buildscript {
    repositories {
        mavenLocal()
	}
}

allprojects {

	project.group = 'gradleDemo'
	project.version = '1.0.0.0'
	
	repositories {
		mavenLocal()
		jcenter()
	}
}

subprojects {
	apply plugin: 'java'	
	apply plugin: 'maven-publish'
	//apply plugin: 'groovy'
}

apply plugin: 'maven-publish'
apply plugin: 'java'

// In this section you declare where to find the dependencies of your project
//repositories {
    // Use 'jcenter' for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
//    jcenter()
//}

// In this section you declare the dependencies for your production and test code
dependencies {
    compile 'org.slf4j:slf4j-api:1.7.21'

    testCompile 'junit:junit:4.12'
}

task taskX << {
    throw new GradleException('This task fails!');
}

task taskY << {
    if (taskX.state.failure != null) {
        //here is what shoud be executed if taskX fails
        println 'taskX was failed!'
    }
}

taskX.finalizedBy taskY
